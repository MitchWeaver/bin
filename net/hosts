#!/bin/sh
#
# http://github.com/mitchweaver/bin
#
# updates /etc/host file with blacklist
#

doas curl -# -L https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/fakenews-gambling-porn-social/hosts -o /etc/hosts

# don't kill my reddit >:(
doas sed -i -E 's/.*.redd(\.)?(it)?.*.//g' /etc/hosts

# but still block reddit based ads
doas sed -i '$ a\
0.0.0.0 ads.reddit.com\
0.0.0.0 alb.reddit.com\
0.0.0.0 reddit-image.s1.amazonaws.com\
0.0.0.0 reddit-image.s2.amazonaws.com\
0.0.0.0 reddit-image.s3.amazonaws.com\
0.0.0.0 reddit-image.s4.amazonaws.com\
0.0.0.0 reddit-image.s5.amazonaws.com\
0.0.0.0 reddit-image.s6.amazonaws.com\
0.0.0.0 reddit-image.s7.amazonaws.com\
0.0.0.0 reddit-image.s8.amazonaws.com\
' /etc/hosts

# don't kill 4chan
doas sed -i -E 's/ (boards\.)?4chan.org//g' /etc/hosts
