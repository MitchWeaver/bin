#!/bin/sh
#
# http://github.com/mitchweaver/bin
#
# increments/decrements brightness
#
# with no arguments, prints the current setting
#

get() {
    set -- $(xbacklight -get)
    echo ${1%.*}
}

if [ "$1" ] ; then
    case "$1" in
        *set|-s)
            xbacklight -set "$2"
            ;;
        *)
            if [ $(($(get) + $1)) -ge 100 ] ; then
                xbacklight -set 100
            else
                xbacklight -inc "$1"
            fi
    esac
fi

echo $(get)%
