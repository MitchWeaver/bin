#!/bin/sh
#
# http://github.com/mitchweaver/bin
#
# OpenBSD screen brightness wrapper
#

usage() {
    >&2 printf '%s\n' 'Usage: bright [-s] [-i] [-d] value'
    exit 1
}

case $1 in
    -h) usage ;;
    -s) wsconsctl display.brightness=$2  >/dev/null 2>&1 ;;
    -i) wsconsctl display.brightness+=$2 >/dev/null 2>&1 ;;
    -d) wsconsctl display.brightness-=$2 >/dev/null 2>&1 ;;
esac || usage

bri=$(wsconsctl -n display.brightness)
printf '%s%%\n' "${bri%\.*%}"
